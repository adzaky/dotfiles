#!/bin/sh

settings="${XDG_CONFIG_HOME:-$HOME/.config}/gtk-3.0/settings.ini"

[ -f "$settings" ] || exit

iniget() {
    grep "$1" "$settings" | sed 's/.*\s*=\s*//'
}

schema="org.gnome.desktop.interface"
gsettings set $schema gtk-theme "$(iniget gtk-theme-name)"
gsettings set $schema icon-theme "$(iniget gtk-icon-theme-name)"
gsettings set $schema cursor-theme "$(iniget gtk-cursor-theme-name)"
gsettings set $schema font-name "$(iniget gtk-font-name)"
